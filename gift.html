<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Surprise Gift üéÅ</title>
<style>
  body {
    margin:0;
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    background: linear-gradient(180deg,#ffe8f3,#ffd0eb);
    overflow:hidden;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    transition: background 1.5s ease;
  }
  body.night{
    background: radial-gradient(circle at 30% 80%, #160026 0%, #030012 60%);
  }

  /* Gift Box */
  .gift-box {
    width:120px; height:120px;
    background: #ff77ba;
    border-radius: 16px;
    display:flex;
    align-items:center; justify-content:center;
    position:relative;
    cursor:pointer;
    animation: heartbeat 1.2s infinite;
    box-shadow: 0 6px 20px rgba(255,50,180,0.4);
    z-index:5;
  }
  @keyframes heartbeat {
    0%,100%{ transform: scale(1); box-shadow: 0 6px 20px rgba(255,50,180,0.4);}
    50%{ transform: scale(1.1); box-shadow:0 12px 28px rgba(255,50,180,0.9);}
  }
  .gift-box:hover { transform: scale(1.05); }

  /* Click me text */
  .click-me {
    position:absolute;
    bottom:-20px;
    font-size:14px; font-weight:bold; color:#fff;
    background:#ff4f8a; padding:4px 10px; border-radius:12px;
  }

  /* Gift Image */
  .gift-img {
    width:180px; height:180px;
    position:absolute; bottom:140px;
    border-radius:16px;
    box-shadow:0 12px 30px rgba(255,120,180,0.4);
    display:none;
    animation: bounce 0.6s ease forwards;
    z-index:6;
  }
  @keyframes bounce{
    0%{ transform: translateY(50px);}
    50%{ transform: translateY(-20px);}
    100%{ transform: translateY(0);}
  }

  /* Text box below gift */
  .text-box {
    width:520px; min-height:160px;
    margin-top:30px;
    background: linear-gradient(135deg,#fff0fb,#ffcce6);
    border:2px dashed #ff77ba;
    border-radius:20px;
    padding:20px;
    font-size:14px; color:#000;
    font-weight:bold; font-style:italic;
    display:none;
    box-shadow:0 8px 28px rgba(255,50,180,0.2);
    line-height:1.6;
    z-index:3;
  }

  /* Fireworks canvas */
  #fireworks {
    position:fixed; inset:0;
    pointer-events:none; z-index:1000;
  }

  /* Floating hearts */
  .heart {
    position:absolute;
    font-size:18px;
    color:#ff77ba;
    opacity:0.8;
    animation: floatUp 4s linear forwards;
  }
  @keyframes floatUp{
    0%{ transform: translateY(0) scale(1); opacity:1;}
    100%{ transform: translateY(-180px) scale(1.3); opacity:0;}
  }

  /* Next button */
  #nextBtn{
    display:none;
    position:fixed; right:20px; bottom:20px;
    padding:10px 18px; border-radius:18px;
    background:#ff77ba; color:#fff; border:none; font-weight:bold;
    cursor:pointer;
    box-shadow:0 6px 16px rgba(255,50,180,0.3);
  }

</style>
</head>
<body>

<!-- Fireworks -->
<canvas id="fireworks"></canvas>

<!-- Gift Box -->
<div class="gift-box" id="giftBox">
  <div class="click-me">Click Me üéÄ</div>
  <img src="img2.jpeg" 
       class="gift-img" id="giftImg" alt="Gift Image">
</div>

<!-- Text Box -->
<div class="text-box" id="textBox">
  <div>Well, well‚Ä¶ look who made it this far üéÄ</div>
  <div>You thought this was just another boring box? üòè</div>
  <div>Surprise! You‚Äôre officially my favorite distraction üíå</div>
  <div>And yes, I tolerate your weirdness‚Ä¶ most of the time üòÑ</div>
  <div>I‚Äôm really happy to have you around‚Ä¶ even when you annoy me üòú</div>
  <div>Happy Birthday Cutie! üéâ</div>
  <div>Remember: the gift inside isn‚Äôt magic‚Ä¶ you have to <em>earn</em> it üòé</div>
</div>

<!-- Next Button -->
<button id="nextBtn">Next Surprise üíñ</button>

<!-- Audio -->
<audio id="bgMusic" loop>
  <source src="sound.mp3" type="audio/mp3">
</audio>

<script>
const giftBox = document.getElementById('giftBox');
const giftImg = document.getElementById('giftImg');
const textBox = document.getElementById('textBox');
const nextBtn = document.getElementById('nextBtn');
const music = document.getElementById('bgMusic');
const fireworks = document.getElementById('fireworks');
const ctx = fireworks.getContext('2d');
fireworks.width = innerWidth;
fireworks.height = innerHeight;

let fireworksActive = false;
let particles = [];

// spawn firework at x,y
function spawnFirework(x,y){
  const hue = Math.random()*360;
  const count = 60;
  for(let i=0;i<count;i++){
    const a = Math.random()*2*Math.PI;
    const speed = Math.random()*3+1;
    particles.push({
      x,y,vx:Math.cos(a)*speed,vy:Math.sin(a)*speed,
      life: 60 + Math.random()*30,
      color: `hsl(${hue+Math.random()*60-30},95%,60%)`,
      size: 2+Math.random()*2
    });
  }
}

// animation loop
function animate(){
  ctx.clearRect(0,0,fireworks.width,fireworks.height);
  for(let i=particles.length-1;i>=0;i--){
    const p = particles[i];
    p.vy += 0.03;
    p.x += p.vx;
    p.y += p.vy;
    p.life--;
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
    ctx.fill();
    p.size*=0.98;
    if(p.life<=0) particles.splice(i,1);
  }
  requestAnimationFrame(animate);
}
animate();

// floating hearts
function createHeart(x,y){
  const heart = document.createElement('div');
  heart.className='heart';
  heart.style.left = x+'px';
  heart.style.top = y+'px';
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),4000);
}

// show text line by line
function showText(){
  textBox.style.display='block';
  const lines = textBox.children;
  for(let i=0;i<lines.length;i++){
    lines[i].style.opacity=0;
  }
  let idx=0;
  function showLine(){
    if(idx<lines.length){
      lines[idx].style.transition='opacity 0.6s';
      lines[idx].style.opacity=1;
      idx++;
      setTimeout(showLine,700);
    } else {
      nextBtn.style.display='block';
    }
  }
  showLine();
}

// click on gift box
giftBox.addEventListener('click',()=>{
  giftBox.querySelector('.click-me').style.display='none';
  giftImg.style.display='block';
  music.play();
  showText();
  fireworksActive=true;
  createHeart(giftBox.offsetLeft+giftBox.offsetWidth/2, giftBox.offsetTop);
});

// fireworks on click anywhere
document.body.addEventListener('click', e=>{
  if(fireworksActive) spawnFirework(e.clientX,e.clientY);
});

// Next button action
nextBtn.addEventListener('click', ()=>{
  window.location.href = "wishlist.html"; // Replace with your next page
});

</script>
</body>
</html>
